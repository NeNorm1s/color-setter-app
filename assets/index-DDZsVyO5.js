(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function h(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function d(t){if(t.ep)return;t.ep=!0;const l=h(t);fetch(t.href,l)}})();$(document).ready(function(){localStorage.getItem("width")!==null&&localStorage.getItem("height")!==null?($(".width").val(localStorage.getItem("width")),$(".height").val(localStorage.getItem("height"))):(localStorage.setItem("width",5),localStorage.setItem("height",5),$(".width").val(localStorage.getItem("width")),$(".height").val(localStorage.getItem("height"))),localStorage.getItem("color-one")!==null&&localStorage.getItem("color-two")!==null?($("#color-one").val(localStorage.getItem("color-one")),$("#color-two").val(localStorage.getItem("color-two"))):(localStorage.setItem("color-one","#DA2F2F"),localStorage.setItem("color-two","#F2FF38"),$("#color-one").val(localStorage.getItem("color-one")),$("#color-two").val(localStorage.getItem("color-two"))),$(".first-color .color-box").css("background-color",localStorage.getItem("color-one")),$(".last-color .color-box").css("background-color",localStorage.getItem("color-two"));function u(o,e){return o>15?(e.val(15),15):o<0?(e.val(0),0):o}function g(o){let e=parseInt(o.slice(1,3),16),r=parseInt(o.slice(3,5),16),c=parseInt(o.slice(5,7),16);return{r:e,g:r,b:c}}function h(o,e,r){return"#"+[o,e,r].map(c=>{const i=c.toString(16);return i.length===1?"0"+i:i}).join("")}function d(o,e,r){const c=g(o),i=g(e),n=Math.round(c.r+(i.r-c.r)*r),s=Math.round(c.g+(i.g-c.g)*r),a=Math.round(c.b+(i.b-c.b)*r);return h(n,s,a)}function t(){$(".main-box").empty();let o=u(Number($(".width").val()),$(".width")),e=u(Number($(".height").val()),$(".height")),r=Math.ceil(e/2),c=e,i=Math.floor(o-o/2);for(let n=0;n<e;n++){const s=$('<div class="boxes-row"></div>');for(let a=0;a<o;a++){let f=o>1?a/(o-1):0,p=e>1?n/(e-1):0,b=(f+p)/2,m=d($("#color-one").val(),$("#color-two").val(),b);r-1==n&&a==0?$(".v-color .color-box").css("background-color",m):c-1==n&&a==0?$(".c-color .color-box").css("background-color",m):e-1==n&&i==a&&$(".h-color .color-box").css("background-color",m),s.append($('<div class="color-box"></div>').css("background-color",m))}s.css({display:"grid","grid-template-columns":"repeat("+o+", 50px)","max-height":"750px"}),$(".main-box").append(s)}$("html").css({"background-image":`linear-gradient(to bottom right, ${$("#color-one").val()}, ${$("#color-two").val()})`,"background-repeat":"no-repeat","background-attachment":"fixed","background-size":"cover"})}$(".width, .height").on("input",function(){u(Number($(this).val()),$(this)),localStorage.setItem(this.id,$(this).val()),t()}),$("#color-one, #color-two").on("input",function(){localStorage.setItem(this.id,$(this).val()),this.id=="color-one"?$(".first-color .color-box").css("background-color",$(this).val()):$(".last-color .color-box").css("background-color",$(this).val()),t()}),t();function l(o){var e=o.match(/\d+/g);if(!e||e.length<3)return null;var r=parseInt(e[0],10),c=parseInt(e[1],10),i=parseInt(e[2],10);function n(s){var a=s.toString(16);return a.length==1?"0"+a:a}return"#"+n(r)+n(c)+n(i)}$(document).on("mouseenter",".color-box",function(){var o=$(this).css("background-color");$(".color-hex-code").text(l(o).toUpperCase()).show()}),$(document).on("mouseleave",".color-box",function(){$(".color-hex-code").text("").hide()}),$(document).on("click",".color-box",function(){var o=$(this).css("background-color");const e=l(o).toUpperCase();if(confirm("Вы собираетесь скопировать цвет? "+e)){$(this);const r=$("<textarea>");$("body").append(r),r.val(e).select(),document.execCommand("copy"),r.remove()}}),$("#save-palette").click(function(){confirm("Сохранить скриншот палитры? ")&&html2canvas($(".main-box")[0]).then(function(o){const e=document.createElement("a");e.href=o.toDataURL("image/png"),e.download="palette_"+$("#color-one").val().toUpperCase()+"_"+$("#color-two").val().toUpperCase()+".png",e.click()})}),$("#save-row").click(function(){confirm("Сохранить скриншот ряда? ")&&html2canvas($(".main-colors")[0]).then(function(o){const e=document.createElement("a");e.href=o.toDataURL("image/png"),e.download="row_"+$("#color-one").val().toUpperCase()+"_"+$("#color-two").val().toUpperCase()+".png",e.click()})})});
